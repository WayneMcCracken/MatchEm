package  {		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;		public class Main extends MovieClip {				protected var game: Game;		private var replayButton: FinalButton;				public function Main() {			init();		}				private function init(): void {			game = new Game();			replayButton = new FinalButton();			addChild(game);			game.addEventListener("GameEnded", onGameEnd);		}				private function onGameEnd(e: Event): void {			addChild(replayButton);			replayButton.buttonMode = true;			replayButton.addEventListener(MouseEvent.MOUSE_OVER, onReplayOver);		}				private function onReplayOver(e: MouseEvent): void {			replayButton.gotoAndStop(1);			replayButton.addEventListener(MouseEvent.CLICK, onReplayClick);			replayButton.addEventListener(MouseEvent.MOUSE_OUT, onReplayAway);		}				private function onReplayClick(e: MouseEvent): void {			replayButton.removeEventListener(MouseEvent.CLICK, onReplayClick);			replayButton.removeEventListener(MouseEvent.MOUSE_OUT, onReplayAway);			replayButton.removeEventListener(MouseEvent.MOUSE_OVER, onReplayOver);			init();		}				private function onReplayAway(e: MouseEvent): void {			replayButton.removeEventListener(MouseEvent.CLICK, onReplayClick);			replayButton.removeEventListener(MouseEvent.MOUSE_OUT, onReplayAway);			replayButton.gotoAndStop(2);		}	}	}